extends templates/html.jade

append head
  link(rel = "stylesheet" href = "css/demos/clock.css")

block title
  title Clock - Wolfhound

block content
  div(ng-app="clockApp").clock.feckin-grid
    div(ng-controller="clockCtrl")
      div.a-feckin-row
        div.a-feckin-column.width-1-in-12
          div.content
            p.centertext.textuppercase Age

      div.a-feckin-row
        div.a-feckin-column.width-3-in-12
          div.content.centertext
            p.largetext {{ years }}
            p.textuppercase years

        div.a-feckin-column.width-3-in-12
          div.content.centertext
            p.largetext {{ months }}
            p.textuppercase months

        div.a-feckin-column.width-3-in-12
          div.content.centertext
            p.largetext {{ days }}
            p.textuppercase days

append footer
  script(src="js/vendor/angular-1.4.8.min.js")
  script(src="js/vendor/moment.js")
  script.
    'use strict';

    angular.module('clockApp', [])
    .controller('clockCtrl', ['$scope', function ($scope) {
      var nowMilliseconds = moment();
      var birthday = moment([2015, 8, 17]);

      var years = nowMilliseconds.diff(birthday, 'years');
      birthday.add(years, 'years');
      $scope.years = years;

      var months = nowMilliseconds.diff(birthday, 'months');
      birthday.add(months, 'months');
      $scope.months = months;

      var days = nowMilliseconds.diff(birthday, 'days');
      $scope.days = days;

    }]);
